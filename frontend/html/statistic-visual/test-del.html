<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>手机用户分析系统</title>
  <link rel="stylesheet" href="/static/layui/css/layui.css" >
  <link rel="stylesheet" href="/static/bootstrap/bootstrap.min.css">
  <!-- http://www.jq22.com/jquery-info20725 -->
</head>
<body  class="layui-layout-body">
        <table id="table1" class="layui-table" lay-filter="table1"></table>
</body>
<script src="/static/jquery/jquery.min.js"></script>
<script src="/static/layui/layui.js"></script>
<script type="text/html" id="toolbar">
    <a class="layui-btn layui-btn-xs" lay-event="boxplot">查看</a>
</script>
<script>
   
   layui.config({
        base: '/static/layui/plugins/'
    }).extend({
        treetable: 'treetable-lay/treetable'
    }).use(['treetable'], function () {
        var treetable = layui.treetable;
        var table = layui.table;
    });

    layui.use(['treetable','table'], function () {
    var treetable = layui.treetable;
    var table = layui.table;
    var data = [{
      "id": 1,
      "name": "",
      "sex": "male",
      "pid": -1
    },{
      "id": 2,
      "name": "xx",
      "sex": "male",
      "pid": 1
    }
  ]
    // 渲染表格
    treetable.render({
        treeColIndex: 2,          // treetable新增参数
        treeSpid: -1,             // treetable新增参数
        treeIdName: 'd_id',       // treetable新增参数
        treePidName: 'd_pid',     // treetable新增参数
        treeDefaultClose: true,   // treetable新增参数
        treeLinkage: true,        // treetable新增参数
        elem: '#table1',
        // url: 'json/data1.json',
        data:data,
        cols: [[
            // {type: 'numbers'},
            // {field: 'id', title: 'id'},
            {field: 'name', title: '名称'},
            {field: 'sex', title: '长度'},
            {field: 'trained', title: '是否训练'},
            // {field: 'pid', title: 'pid'},
            {field: 'operate',fixed: 'right', title:'操作', toolbar: '#toolbar'} 
        ]]
    });
    table.on('tool(table1)', function(obj) { //注：test是table原始容器的属性 lay-filter="对应的值"
        var data = obj.data;
        var layEvent = obj.event;
		selected = data;
		//选中行样式
        if (layEvent==='boxplot'){
                window.alert('fuck')
                console.log(data)
                            // var width = 800
                            // var height = width * 0.618
                            // var top = (window.screen.height-30-height)/2
                            // var left = (window.screen.width-10-width)/2
                            // features =  "height="+height+
                            //             ",width="+width+
                            //             ",top="+top+
                            //             ",left="+left
                            // url = "/html/statistic-visual/boxplot.html?name="+data.name
                            // window.open(url,"盒图",features)
                            
                        }
	});

});
// layui.config({
// 	base: '/static/layui/plugins/'
// }).extend({
// 	treetable: 'treetable-lay/treetable'
// }).use(['layer', 'table', 'treetable'], function() {
// 	var $ = layui.jquery;
// 	var table = layui.table;
// 	var layer = layui.layer;
// 	var treetable = layui.treetable;
 
//     var data = [{
//       "id": 1,
//       "name": "xx",
//       "sex": "male",
//       "pid": -1
//     },{
//       "id": 2,
//       "name": "xx",
//       "sex": "male",
//       "pid": 1
//     }
//   ]
// 	// 渲染表格
// 	renderTable = function() {
// 		layer.load(2);
// 		treetable.render({
// 			treeColIndex: 2,
// 			treeSpid: 0,
// 			treeIdName: 'deptId',
// 			treePidName: 'parentId',
// 			treeDefaultClose: true,
// 			treeLinkage: false,
// 			elem: '#layuiTable',
//             id: 'tableId',
// 			url:"http://localhost:5000/test",
// 			page: false,
//             cols: [[
//             {type: 'numbers'},
//             {field: 'id', title: 'id'},
//             {field: 'name', title: 'name'},
//             {field: 'sex', title: 'sex'},
//             {field: 'pid', title: 'pid'},
//             ]],
// 			done: function() {
// 				layer.closeAll('loading');
// 			}
// 		});
// 	};
 
	// renderTable();
 
	// //监听行单击事件（双击事件为：rowDouble）
	// table.on('row(test)', function(obj) { //注：test是table原始容器的属性 lay-filter="对应的值"
	// 	var data = obj.data;
	// 	selected = data;
	// 	//选中行样式
	// 	obj.tr.addClass('layui-table-click').siblings().removeClass('layui-table-click');
	// 	//选中radio样式
	// 	obj.tr.find('i[class="layui-anim layui-icon"]').trigger("click");
	// });
 
 
// });
 
// var renderTable;
// var selected;

</script>
</html>
